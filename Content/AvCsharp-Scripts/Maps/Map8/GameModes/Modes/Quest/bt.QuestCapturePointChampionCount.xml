<?xml version="1.0" encoding="utf-8"?>
<BehaviorTrees>
  <BehaviorTree Name="Modes.Dominion.Quest.QuestCapturePointChampionCount">
    <Parameters>
      <Parameter Name="Guardian" VariableType="Reference" ParameterType="AttackableUnit" Default="" Optional="false">
        <Description></Description>
      </Parameter>
      <OutParameter Name="NumAllies" ParameterType="Int">
        <Description></Description>
      </OutParameter>
      <OutParameter Name="NumEnemies" ParameterType="Int">
        <Description></Description>
      </OutParameter>
    </Parameters>
    <Node Type="MaskFailure" Name="MaskFailure">
      <Parameters />
      <Children>
        <Node Type="Sequence" Name="Sequence">
          <Parameters />
          <Children>
            <Node Type="SetVarInt" Name="NumAllies=0">
              <Parameters>
                <Parameter Name="Input" Value="0" VariableType="Value" />
                <OutParameter Name="Output" Value="NumAllies" ReferenceType="Int" />
              </Parameters>
            </Node>
            <Node Type="SetVarInt" Name="NumEnemies=0">
              <Parameters>
                <Parameter Name="Input" Value="0" VariableType="Value" />
                <OutParameter Name="Output" Value="NumEnemies" ReferenceType="Int" />
              </Parameters>
            </Node>
            <Node Type="GetUnitTeam" Name="GuardianTeam">
              <Parameters>
                <Parameter Name="Unit" Value="Guardian" VariableType="Reference" ReferenceType="AttackableUnit" />
                <OutParameter Name="Output" Value="GuardianTeam" ReferenceType="TeamEnum" />
              </Parameters>
            </Node>
            <Node Type="NotEqualUnitTeam" Name="GuardianTeam!=Neutral">
              <Parameters>
                <Parameter Name="LeftHandSide" Value="GuardianTeam" VariableType="Reference" ReferenceType="TeamEnum" />
                <Parameter Name="RightHandSide" Value="TEAM_NEUTRAL" VariableType="Value" />
              </Parameters>
            </Node>
            <Node Type="GetUnitPosition" Name="GuardianPosition">
              <Parameters>
                <Parameter Name="Unit" Value="Guardian" VariableType="Reference" ReferenceType="AttackableUnit" />
                <OutParameter Name="Output" Value="GuardianPosition" ReferenceType="Vector" />
              </Parameters>
            </Node>
            <Node Type="GetUnitsInTargetArea" Name="Champions">
              <Parameters>
                <Parameter Name="Unit" Value="Guardian" VariableType="Reference" ReferenceType="AttackableUnit" />
                <Parameter Name="TargetLocation" Value="GuardianPosition" VariableType="Reference" ReferenceType="Vector" />
                <Parameter Name="Radius" Value="1500" VariableType="Value" />
                <Parameter Name="SpellFlags" Value="AffectEnemies,AffectFriends,AffectHeroes" VariableType="Value" />
                <OutParameter Name="Output" Value="Champions" ReferenceType="AttackableUnitCollection" />
              </Parameters>
            </Node>
            <Node Type="IterateOverAllDecorator" Name="CountAlliesAndEnemies">
              <Parameters>
                <Parameter Name="Collection" Value="Champions" VariableType="Reference" ReferenceType="AttackableUnitCollection" />
                <OutParameter Name="Output" Value="Champion" ReferenceType="AttackableUnit" />
              </Parameters>
              <Children>
                <Node Type="Sequence" Name="Sequence">
                  <Parameters />
                  <Children>
                    <Node Type="GetUnitTeam" Name="ChampionTeam">
                      <Parameters>
                        <Parameter Name="Unit" Value="Champion" VariableType="Reference" ReferenceType="AttackableUnit" />
                        <OutParameter Name="Output" Value="ChampionTeam" ReferenceType="TeamEnum" />
                      </Parameters>
                    </Node>
                    <Node Type="Selector" Name="AllyOrEnemy">
                      <Parameters />
                      <Children>
                        <Node Type="Sequence" Name="Ally">
                          <Parameters />
                          <Children>
                            <Node Type="EqualUnitTeam" Name="GuardianTeam==ChampionTeam">
                              <Parameters>
                                <Parameter Name="LeftHandSide" Value="ChampionTeam" VariableType="Reference" ReferenceType="TeamEnum" />
                                <Parameter Name="RightHandSide" Value="GuardianTeam" VariableType="Reference" ReferenceType="TeamEnum" />
                              </Parameters>
                            </Node>
                            <Node Type="AddInt" Name="NumAllies++">
                              <Parameters>
                                <Parameter Name="LeftHandSide" Value="NumAllies" VariableType="Reference" ReferenceType="Int" />
                                <Parameter Name="RightHandSide" Value="1" VariableType="Value" />
                                <OutParameter Name="Output" Value="NumAllies" ReferenceType="Int" />
                              </Parameters>
                            </Node>
                          </Children>
                        </Node>
                        <Node Type="Sequence" Name="Enemy">
                          <Parameters />
                          <Children>
                            <Node Type="GetDistanceBetweenUnits" Name="Distance(Champion,Guardian)">
                              <Parameters>
                                <Parameter Name="SourceUnit" Value="Guardian" VariableType="Reference" ReferenceType="AttackableUnit" />
                                <Parameter Name="DestinationUnit" Value="Champion" VariableType="Reference" ReferenceType="AttackableUnit" />
                                <OutParameter Name="Output" Value="Distance" ReferenceType="Float" />
                              </Parameters>
                            </Node>
                            <Node Type="LessFloat" Name="Distance&lt;900">
                              <Parameters>
                                <Parameter Name="LeftHandSide" Value="Distance" VariableType="Reference" ReferenceType="Float" />
                                <Parameter Name="RightHandSide" Value="900" VariableType="Value" />
                              </Parameters>
                            </Node>
                            <Node Type="AddInt" Name="NumEnemies++">
                              <Parameters>
                                <Parameter Name="LeftHandSide" Value="NumEnemies" VariableType="Reference" ReferenceType="Int" />
                                <Parameter Name="RightHandSide" Value="1" VariableType="Value" />
                                <OutParameter Name="Output" Value="NumEnemies" ReferenceType="Int" />
                              </Parameters>
                            </Node>
                          </Children>
                        </Node>
                      </Children>
                    </Node>
                  </Children>
                </Node>
              </Children>
            </Node>
          </Children>
        </Node>
      </Children>
    </Node>
  </BehaviorTree>
</BehaviorTrees>